{% extends "!layout.html" %}
{% from 'blog_macros.html' import timestamp with context %}
{% from 'blog_macros.html' import post_meta with context %}
{% block document %}
  {% if pagename == 'header_blog' %}
    {% include 'header_blog.html' %}
  {% else %}
    {% if metadata is defined %}
      {% block body %}
        {{ timestamp(metadata.formatted_date) }}
        {{ body }}
        {{ post_meta(metadata) }}
      {% endblock %}
    {% else %}
      {{ body }}
    {% endif %}
  {% endif %}
{% endblock %}
{% block footer %}
{% endblock %}